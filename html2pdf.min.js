/**
 * html2pdf.js v0.10.1
 * Copyright (c) 2018 Erik Koopmans
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.html2pdf=e()}(this,function(){"use strict";var t=function(t){if(!(this instanceof t))return new t;var e=Object.assign({},this.defaultParams);Object.defineProperties(this,{params:{value:e,writable:!1,enumerable:!0},container:{value:{},writable:!0,enumerable:!0},content:{value:null,writable:!0,enumerable:!0},canvas:{value:null,writable:!0,enumerable:!0},pdf:{value:null,writable:!0,enumerable:!0}}),this.setParams(e)};return t.prototype.setParams=function(t){return t&&"object"==typeof t&&Object.keys(t).forEach(function(e){this.params[e]=t[e]}.bind(this)),this},t.prototype.setContent=function(t){return t&&(this.content=t),this},t.prototype.toContainer=function(){return Promise.resolve().then(function(){var t=this.content,e=this.container,n=this.params,r="string"==typeof t?document.querySelector(t):t;if(!r)return Promise.reject(new Error("HTML element not found"));if(r.cloneNode&&(r=function t(e){var n=e.cloneNode(!0);if(n instanceof HTMLCanvasElement){var r=document.createElement("img");return r.src=e.toDataURL(),r.style.cssText=e.style.cssText,r}return Array.from(n.childNodes).forEach(function(e){n.appendChild(t(e))}),n}(r)),Number.isInteger(n.html2canvas.scale)||(n.html2canvas.scale=1),n.html2canvas.onclone&&"function"==typeof n.html2canvas.onclone&&(r=n.html2canvas.onclone(r)),n.jsPDF.autoPaging){var o=r.style;o.setProperty("display","inline-block"),o.setProperty("overflow","visible")}if(document.body.contains(r)){var i=document.createElement("div");i.appendChild(r.cloneNode(!0)),Object.keys(e).forEach(function(t){delete e[t]}),Object.assign(e,i)}else Object.assign(e,r);return Promise.resolve(r)}.bind(this))},t.prototype.toCanvas=function(){return Promise.resolve().then(function(){return this.toContainer()}.bind(this)).then(function(t){var e=this.params;return e.html2canvas.scale&&(e.html2canvas.windowWidth=Math.round(t.offsetWidth*e.html2canvas.scale)),e.html2canvas.windowHeight=Math.round(t.offsetHeight*e.html2canvas.scale),html2canvas(t,e.html2canvas)}.bind(this)).then(function(t){return this.canvas=t,t}.bind(this))},t.prototype.toImg=function(){return Promise.resolve().then(function(){return this.canvas||this.toCanvas()}.bind(this)).then(function(t){var e=this.params,n=document.createElement("img");return n.style.width=t.style.width,n.style.height=t.style.height,n.src=t.toDataURL(e.image.type,e.image.quality),n}.bind(this))},t.prototype.toPdf=function(){return Promise.resolve().then(function(){return this.canvas||this.toCanvas()}.bind(this)).then(function(t){var e=this.params,n=this.canvas,r=this.container,o=new e.jsPDF.jsPDF(e.jsPDF);if("number"==typeof e.width||"number"==typeof e.height){var i=e.width||n.width/n.height*e.height,a=e.height||n.height/n.width*e.width;o.addPage([i,a],i>a?"l":"p")}return e.jsPDF.autoPaging&&function(){var t=e.jsPDF.autoPaging,i=e.jsPDF.margin,a=t.useRatio||!0,s=t.useVisibleSize||!1,u=t.margin||i,c=t.fontSize||e.html2canvas.scale||1,f=r.style.overflow,d=document.body.style.overflow,l=1/t.pixelRatio,p={offsetX:u.left,offsetY:u.top,scale:c};document.body.style.overflow="visible",r.style.overflow="visible";var h=function(t,e){var n=e.pageNumber,r=t.offsetWidth,o=t.offsetHeight,i=r*e.scale/l,a=o*e.scale/l;if(s){var u=t.getBoundingClientRect(),c=u.width,f=u.height;i=c*e.scale/l,a=f*e.scale/l}if(a>e.availableHeight){if("m-flipped"!==t.dataset.pageType){t.dataset.pageType="m-flipped";var d=document.createElement("div");d.className="html2pdf__page-break",t.parentNode.insertBefore(d,t);var p=o/2,h=e.offsetY+p+"px",m=document.createElement("div"),v=Object.assign({},e);m.className="html2pdf__page-split",Array.from(t.classList).forEach(function(t){m.classList.add(t)}),m.style.height=h,m.style.width=t.style.width,m.style.position="relative",m.style.overflow="hidden",t.style.height=p+"px",t.style.width=r+"px",t.style.position="relative",t.style.overflow="hidden",t.parentNode.insertBefore(m,t);var g=t.cloneNode(!0);g.style.top=-1*p+"px",m.appendChild(g),o*=.5,a=o*e.scale/l,v.availableHeight=o,v.pageNumber=n+1,v.offsetY=0,h=t,t=g}v=Object.assign({},e),v.pageNumber+=1,v.offsetY=e.offsetY+a-e.availableHeight,a-=v.offsetY*e.scale/l,h(t,v)}if(a<=e.availableHeight&&i<=e.availableWidth)return e.offsetY+=a/e.scale*l,void(e.pageNumber=n);if(i>e.availableWidth){var y=e.availableWidth/i,b=Object.assign({},e);b.scale*=y,b.availableWidth=e.availableWidth,b.availableHeight=e.availableHeight,b.offsetY=e.offsetY,b.pageNumber=n,h(t,b)}},m=Object.assign({},p),v=n.height*t.margin.top/t.pixelRatio;m.pageNumber=1,m.availableHeight=a?n.height/n.width*e.jsPDF.format[0]-v:e.jsPDF.format[1]-v,m.availableWidth=e.jsPDF.format[0]-u.left-u.right;var g=Array.from(r.children);g.forEach(function(t){h(t,Object.assign({},m))}),r.style.overflow=f,document.body.style.overflow=d}(),o.addImage(n,e.image.type,e.margin.left,e.margin.top,e.width||null,e.height||null,null,e.image.compression),this.pdf=o,o}.bind(this))},t.prototype.save=function(t){return Promise.resolve().then(function(){return this.pdf||this.toPdf()}.bind(this)).then(function(e){return t=t||this.params.filename+".pdf",e.save(t),e}.bind(this))},t.prototype.doCallback=function(t){return Promise.resolve().then(function(){return this.pdf||this.toPdf()}.bind(this)).then(function(e){return this.params.callback(e),e}.bind(this)).catch(function(e){if(t)return e;throw e})},t.prototype.set=function(t){return this.params=t,this},t.prototype.get=function(t){return this.params[t]},t.prototype.from=function(t,e){return this.content=t,e&&(this.setParams(e),this.setContent(t)),this},t.prototype.output=function(t,e,n){return void 0===n&&void 0!==e&&"object"==typeof e&&(n=e,e=null),this.setParams({filename:e||"",callback:t||null,outputPdf:n||null}),this.params.outputPdf?this.outputPdf():this.params.callback?this.doCallback():this.save()},t.prototype.outputPdf=function(){return Promise.resolve().then(function(){return this.pdf||this.toPdf()}.bind(this)).then(function(t){return this.params.outputPdf.outputType||(this.params.outputPdf.outputType="datauristring"),this.params.outputPdf.callback=this.params.callback||this.params.outputPdf.callback,t.output(this.params.outputPdf.outputType,this.params.filename,this.params.outputPdf)}.bind(this))},t.prototype.defaultParams={html2canvas:{scale:2,logging:!0,allowTaint:!0,ignoreElements:function(t){return new RegExp("html2pdf__page-break").test(t.className)}},image:{type:"jpeg",quality:.95,compression:"FAST"},jsPDF:{format:"a4",orientation:"p",unit:"mm",compress:!0,precision:16,putOnlyUsedFonts:!0,floatPrecision:16,autoPaging:!1,hotfixes:["px_scaling"],margin:{top:0,right:0,bottom:0,left:0},encryption:null},margin:{top:12,right:12,bottom:12,left:12},preferDOM:!1,enableLinks:!0,filename:""},t.Worker=function(e,n){if(!(this instanceof t.Worker))return new t.Worker(e,n);this.from(e||"",n)},t.Worker.prototype.from=function(e,n){return this.worker=t().from(e,n),this.worker},t.Worker.prototype.to=function(t){return this.worker.output(t=t||void 0),this},t.Worker.prototype.save=function(t){return this.worker.save(t),this},t.Worker.prototype.doCallback=function(){return this.worker.doCallback(),this},t.Worker.prototype.set=function(t){return this.worker.setParams(t),this},t.Worker.prototype.get=function(t){return this.worker.getParams(t)},t.prototype.getParams=function(t){return t&&void 0!==this.params[t]?this.params[t]:this.params},t.prototype.setParams=function(t){return t&&"object"==typeof t&&Object.keys(t).forEach(function(e){this.params[e]=t[e]}.bind(this)),this},t});